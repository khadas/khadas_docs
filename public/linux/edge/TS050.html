<!DOCTYPE html>
<html lang="en">
<head prefix="og: http://ogp.me/ns#">
  <meta charset="utf-8">
  <title>TS050 | Khadas Documentation</title>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Canonical links -->
  <link rel="canonical" href="https://docs.khadas.com/edge/TS050.html">
  <!-- Alternative links -->
  
    
      <link rel="alternative" hreflang="en" href="https://docs.khadas.com/edge/TS050.html">
    
      <link rel="alternative" hreflang="zh-cn" href="https://docs.khadas.com/zh-cn/edge/TS050.html">
    
  
  <script src="//cdn.bootcss.com/pace/1.0.2/pace.min.js"></script>
  <link href="//cdn.bootcss.com/pace/1.0.2/themes/pink/pace-theme-flash.css" rel="stylesheet">
  <style>
    .pace .pace-progress {
       background: #1E92FB;
       height: 2px;
     }
    .pace .pace-progress-inner {
       box-shadow: 0 0 10px #1E92FB, 0 0 5px     #1E92FB;
     }
    .pace .pace-activity {
       border-top-color: #1E92FB;
       border-left-color: #1E92FB;
    }
  </style>
  <!-- Icon -->
  <link rel="Shortcut Icon" href="/linux/images/favicon.ico">
  <!-- CSS -->
  <link rel="stylesheet" type="text/css" href="/linux//vendor/semantic/dist/semantic.min.css">
  <link rel="stylesheet" type="text/css" href="/linux//vendor/bootstrap-4.0.0/dist/css/bootstrap.min.css">
  <script
    src="https://s3.pstatp.com/cdn/expire-1-M/jquery/3.3.1/jquery.min.js"
    crossorigin="anonymous"></script>
  <script src="/linux//vendor/semantic/dist/semantic.min.js"></script>
  <script src="/linux//vendor/bootstrap-4.0.0/dist/js/bootstrap.bundle.min.js"></script>
 <!-- Hotjar Tracking Code for https://docs.khadas.com -->
  <script>
      (function(h,o,t,j,a,r){
          h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
          h._hjSettings={hjid:1081538,hjsv:6};
          a=o.getElementsByTagName('head')[0];
          r=o.createElement('script');r.async=1;
          r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
          a.appendChild(r);
      })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
  </script>

  <!-- build:css build/css/navy.css -->
  
<link rel="stylesheet" href="/linux/css/navy.css">

  <!-- endbuild -->
  <link href="https://fonts.googleapis.com/css?family=Lato:300,400,700" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/linux//css/font/fontawesome.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css">
  <!-- RSS -->
  <link rel="alternate" href="/linux/atom.xml" title="Khadas Documentation" type="application/atom+xml">
  <!-- Open Graph -->
  <meta name="description" content="1. Quick &amp; Dirty Method   Download and unpack this Android 9.0 MIPI Firmware, made by GoEnjoy. Then install the RockChip USB Drivers, and plug in your Edge &#x2F; Edge-V into your PC via USB-C cable. R">
<meta property="og:type" content="website">
<meta property="og:title" content="TS050">
<meta property="og:url" content="https://docs.khadas.com/edge/TS050">
<meta property="og:site_name" content="Khadas Documentation">
<meta property="og:description" content="1. Quick &amp; Dirty Method   Download and unpack this Android 9.0 MIPI Firmware, made by GoEnjoy. Then install the RockChip USB Drivers, and plug in your Edge &#x2F; Edge-V into your PC via USB-C cable. R">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://docs.khadas.com/linux/images/edge/Cpt-v12_TS050_For_Display.jpg">
<meta property="og:image" content="https://docs.khadas.com/linux/images/edge/AndroldTool_firmware.png">
<meta property="og:image" content="https://docs.khadas.com/linux/images/edge/edge-v_display_interfaces.jpg">
<meta property="og:image" content="https://docs.khadas.com/linux/images/edge/edge_display_interfaces.jpg">
<meta property="og:image" content="https://docs.khadas.com/linux/images/edge/captain_display_interfaces.jpg">
<meta property="og:image" content="https://docs.khadas.com/linux/images/edge/edge_v_ts050.jpg">
<meta property="og:image" content="https://docs.khadas.com/linux/images/edge/timing_attribute_reference_figure.png">
<meta property="og:image" content="https://docs.khadas.com/linux/images/edge/timing_attribute_reference_figure_2.png">
<meta property="article:published_time" content="2021-07-28T10:17:22.975Z">
<meta property="article:modified_time" content="2021-07-28T10:17:22.975Z">
<meta property="article:author" content="Khadas">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://docs.khadas.com/linux/images/edge/Cpt-v12_TS050_For_Display.jpg">
<meta name="twitter:site" content="khadas_official">
  <!-- Google Analytics -->
  
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-110196417-1', 'auto');
  ga('send', 'pageview');
</script>

<meta name="generator" content="Hexo 5.4.0"></head>

<body>
  <div id="container">
    <header id="header" class="header-wrapper">
  <div id="header-inner" class="inner wrapper">
    <h1 id="logo-wrap">
      <a href="/" id="logo">Hexo</a>
    </h1>
    <nav id="main-nav">
      <div style="display:inline-block"><div class="btn-group"><div class="main-nav-link dropdown-toggle " data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">VIM</div><ul class="dropdown-menu submenu-list" aria-labelledby="dropdownMenuLink"><li class="submenu"><a href="/linux/vim1/" class="main-nav-link secondary ">VIM1</a></li><li class="submenu"><a href="/linux/vim2/" class="main-nav-link secondary ">VIM2</a></li><li class="submenu"><a href="/linux/vim3/" class="main-nav-link secondary ">VIM3</a></li></ul></div><a href="/linux/edge/" class="main-nav-link current header">Edge</a><a href="/linux/tone1/" class="main-nav-link  header">Tone1</a><a href="/linux/hardware/hardwareEdge" class="main-nav-link  header">Hardware</a><a href="/linux/firmware/EdgeUbuntuFirmware" class="main-nav-link  header">Firmware</a></div>
      <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/khadas" class="main-nav-link"><i class="fa fa-github-alt"></i></a>
      <div id="search-input-wrap">
        <div id="search-input-icon">
          <i class="fa fa-search"></i>
        </div>
        <input type="search" id="search-input" placeholder="Search...">
      </div>
    </nav>
    <div id="lang-select-wrap">
      <label id="lang-select-label"><i class="fa fa-globe"></i><span>English</span></label>
      <select id="lang-select" data-canonical="edge/TS050.html">
        
          <option value="en" selected>English</option>
        
          <option value="zh-cn">简体中文</option>
        
      </select>
    </div>
    <a id="mobile-nav-toggle">
      <span class="mobile-nav-toggle-bar"></span>
      <span class="mobile-nav-toggle-bar"></span>
      <span class="mobile-nav-toggle-bar"></span>
    </a>
  </div>
</header>

    <div id="content-wrap">
  <div id="content" class="wrapper">
    <div id="content-inner">
      <article class="article-container" itemscope itemtype="http://schema.org/Article">
        <div class="article-inner">
          <div class="article">
            <div class="inner inner-article">
              <header class="article-header">
                <h1 class="article-title" itemprop="name">TS050</h1>
                <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/khadas/khadas_docs/edit/master/source/edge/TS050.md" class="article-edit-link" title="Improve this doc"><i class="fa fa-pencil"></i></a>
              </header>
              <div class="article-content" itemprop="articleBody">
                <h2 id="1-Quick-amp-Dirty-Method" class="article-heading"><a href="#1-Quick-amp-Dirty-Method" class="headerlink" title="1. Quick &amp; Dirty Method"></a>1. Quick &amp; Dirty Method<a class="article-anchor" href="#1-Quick-amp-Dirty-Method" aria-hidden="true"></a></h2><img src="/linux/images/edge/Cpt-v12_TS050_For_Display.jpg" width="30%" height="30%">

<ul>
<li>Download and unpack this <a target="_blank" rel="noopener external nofollow noreferrer" href="https://mega.nz/#!7vZD0I6D!sYrXemihQWok-L9tjq-N-6xE4rcAmMId75nfr3QQhO8">Android 9.0 MIPI Firmware</a>, made by GoEnjoy.</li>
<li>Then install the <a target="_blank" rel="noopener external nofollow noreferrer" href="https://dl.khadas.com/Tools/DriverAssitant_v4.6.zip">RockChip USB Drivers</a>, and plug in your Edge / Edge-V into your PC via USB-C cable.</li>
<li>Reflash the firmware using these <a href="/linux/edge/UpgradeViaUSBCable.html">USB Upgrade Instructions</a>, and reboot your Edge.</li>
<li>If you run into trouble, first press “Switch”, then “EraseFlash”, then “Upgrade”, in that order.</li>
</ul>
<img src="/linux/images/edge/AndroldTool_firmware.png" width="50%" height="50%">


<h2 id="2-Brief-Introduction" class="article-heading"><a href="#2-Brief-Introduction" class="headerlink" title="2. Brief Introduction"></a>2. Brief Introduction<a class="article-anchor" href="#2-Brief-Introduction" aria-hidden="true"></a></h2><p>Edge-V has three display interfaces: HDMI + MIPI + EDP. The position of the interfaces are shown below:</p>
<img src="/linux/images/edge/edge-v_display_interfaces.jpg" width="70%" height="70%">

<p>Edge has two LCD screen interfaces: HDMI + DP. The position of the interfaces are shown below:</p>
<img src="/linux/images/edge/edge_display_interfaces.jpg" width="50%" height="50%">

<p>Captain has two LCD screen interfaces：EDP + MIPI. The position of the interfaces are shown below:</p>
<img src="/linux/images/edge/captain_display_interfaces.jpg" width="50%" height="50%">

<h2 id="3-HDMI-DP-Screen-Config" class="article-heading"><a href="#3-HDMI-DP-Screen-Config" class="headerlink" title="3. (HDMI + DP) Screen Config"></a>3. (HDMI + DP) Screen Config<a class="article-anchor" href="#3-HDMI-DP-Screen-Config" aria-hidden="true"></a></h2><h3 id="3-1-Configure-DTS" class="article-heading"><a href="#3-1-Configure-DTS" class="headerlink" title="3.1 Configure DTS"></a>3.1 Configure <strong>DTS</strong><a class="article-anchor" href="#3-1-Configure-DTS" aria-hidden="true"></a></h3><p>rk3399-khadas-edge.dtsi,  for example: HDMI (Main Display) + DP (Secondary Display)</p>
<h4 id="3-1-1-Enable-Corresponding-Display-Device-Nodes" class="article-heading"><a href="#3-1-1-Enable-Corresponding-Display-Device-Nodes" class="headerlink" title="3.1.1 Enable Corresponding Display Device Nodes"></a>3.1.1 Enable Corresponding Display Device Nodes<a class="article-anchor" href="#3-1-1-Enable-Corresponding-Display-Device-Nodes" aria-hidden="true"></a></h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&amp;hdmi &#123;</span><br><span class="line">	status = <span class="string">&quot;okay&quot;</span>;</span><br><span class="line">	rockchip,phy-table =</span><br><span class="line">		&lt;74250000 0x8009 0x0004 0x0272&gt;,</span><br><span class="line">		&lt;165000000 0x802b 0x0004 0x0209&gt;,</span><br><span class="line">		&lt;297000000 0x8029 0x0005 0x028d&gt;,</span><br><span class="line">		&lt;594000000 0x8039 0x0000 0x0090&gt;,</span><br><span class="line">		&lt;000000000 0x0000 0x0000 0x0000&gt;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&amp;cdn_dp &#123;</span><br><span class="line">	status = <span class="string">&quot;okay&quot;</span>;</span><br><span class="line">	extcon = &lt;&amp;fusb0&gt;;</span><br><span class="line">	phys = &lt;&amp;tcphy0_dp&gt;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h4 id="3-1-2-Binding-VOP" class="article-heading"><a href="#3-1-2-Binding-VOP" class="headerlink" title="3.1.2 Binding VOP"></a>3.1.2 Binding VOP<a class="article-anchor" href="#3-1-2-Binding-VOP" aria-hidden="true"></a></h4><p>The RK3399 platform has two VOPs: vopb (Supports 4K), and vopl (Supports 2K). When the display device node opens, the ports corresponding to vopb and vopl will be opened, and the unused VOP will need to be turned off.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&amp;hdmi_in_vopb &#123;</span><br><span class="line">	status = <span class="string">&quot;okay&quot;</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&amp;hdmi_in_vopl &#123;</span><br><span class="line">	status = <span class="string">&quot;disabled&quot;</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&amp;dp_in_vopb &#123;</span><br><span class="line">	status = <span class="string">&quot;disabled&quot;</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&amp;dp_in_vopl &#123;</span><br><span class="line">	status = <span class="string">&quot;okay&quot;</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h4 id="3-1-3-Boot-Logo" class="article-heading"><a href="#3-1-3-Boot-Logo" class="headerlink" title="3.1.3 Boot Logo"></a>3.1.3 Boot Logo<a class="article-anchor" href="#3-1-3-Boot-Logo" aria-hidden="true"></a></h4><p>If the uboot logo is not turned on, the kernel boot-stage cannot display the boot logo, and it can only be seen after Android boots. In dts, it is possible to turn on uboot logo support by setting the corresponding routes; such as enabling the uboot logo to be displayed via HDMI:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&amp;route_hdmi &#123;</span><br><span class="line">	status = <span class="string">&quot;okay&quot;</span>;</span><br><span class="line">	connect = &lt;&amp;vopb_out_hdmi&gt;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h4 id="3-1-4-Binding-PLL" class="article-heading"><a href="#3-1-4-Binding-PLL" class="headerlink" title="3.1.4 Binding PLL"></a>3.1.4 Binding PLL<a class="article-anchor" href="#3-1-4-Binding-PLL" aria-hidden="true"></a></h4><p>The VOP clock bound by the HDMI of rk3399 needs to be mounted on the vpll. If the dual display requires another VOP clock on the cpll, the frequency of any DCLK can be distinguished.</p>
<p>For example, when HDMI is bound to vopb:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&amp;vopb &#123;</span><br><span class="line">	assigned-clocks = &lt;&amp;cru DCLK_VOP0_DIV&gt;;</span><br><span class="line">	assigned-clock-parents = &lt;&amp;cru PLL_VPLL&gt;;</span><br><span class="line">&#125;;</span><br><span class="line">&amp;vopl &#123;</span><br><span class="line">	assigned-clocks = &lt;&amp;cru DCLK_VOP1_DIV&gt;;</span><br><span class="line">	assigned-clock-parents = &lt;&amp;cru PLL_CPLL&gt;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>And when HDMI is bound to vopl：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&amp;vopb &#123;</span><br><span class="line">	assigned-clocks = &lt;&amp;cru DCLK_VOP0_DIV&gt;;</span><br><span class="line">	assigned-clock-parents = &lt;&amp;cru PLL_CPLL&gt;;</span><br><span class="line">&#125;;</span><br><span class="line">&amp;vopl &#123;</span><br><span class="line">	assigned-clocks = &lt;&amp;cru DCLK_VOP1_DIV&gt;;</span><br><span class="line">	assigned-clock-parents = &lt;&amp;cru PLL_VPLL&gt;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h4 id="3-1-5-Turning-On-Audio-Output" class="article-heading"><a href="#3-1-5-Turning-On-Audio-Output" class="headerlink" title="3.1.5 Turning On Audio Output"></a>3.1.5 Turning On Audio Output<a class="article-anchor" href="#3-1-5-Turning-On-Audio-Output" aria-hidden="true"></a></h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&amp;dp_sound &#123;</span><br><span class="line">	status = <span class="string">&quot;okay&quot;</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&amp;hdmi_sound &#123;</span><br><span class="line">	status = <span class="string">&quot;okay&quot;</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="3-2-Main-and-Secondary-Display-Config" class="article-heading"><a href="#3-2-Main-and-Secondary-Display-Config" class="headerlink" title="3.2 Main and Secondary Display Config"></a>3.2 Main and Secondary Display Config<a class="article-anchor" href="#3-2-Main-and-Secondary-Display-Config" aria-hidden="true"></a></h3><h4 id="android-9-0-Config" class="article-heading"><a href="#android-9-0-Config" class="headerlink" title="android 9.0 Config"></a>android 9.0 Config<a class="article-anchor" href="#android-9-0-Config" aria-hidden="true"></a></h4><p>device/rockchip/rk3399/rk3399.mk</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">PRODUCT_PROPERTY_OVERRIDES += \</span><br><span class="line">    vendor.hwc.device.primary=HDMI-A \</span><br><span class="line">    vendor.hwc.device.extend=DP</span><br><span class="line">	<span class="comment">#vendor.hwc.device.extend=DSI</span></span><br><span class="line">    <span class="comment">#vendor.hwc.device.extend=eDP</span></span><br></pre></td></tr></table></figure>
<h4 id="android-7-1-Config" class="article-heading"><a href="#android-7-1-Config" class="headerlink" title="android 7.1 Config"></a>android 7.1 Config<a class="article-anchor" href="#android-7-1-Config" aria-hidden="true"></a></h4><p>device/rockchip/rk3399/rk3399_all.mk</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">PRODUCT_PROPERTY_OVERRIDES += \</span><br><span class="line">    sys.hwc.device.primary=HDMI-A \</span><br><span class="line">    sys.hwc.device.extend=DP</span><br><span class="line">	<span class="comment">#sys.hwc.device.extend=DSI</span></span><br><span class="line">    <span class="comment">#sys.hwc.device.extend=eDP</span></span><br></pre></td></tr></table></figure>

<h2 id="4-MIPI-HDMI-Screen-Config" class="article-heading"><a href="#4-MIPI-HDMI-Screen-Config" class="headerlink" title="4. (MIPI + HDMI) Screen Config"></a>4. (MIPI + HDMI) Screen Config<a class="article-anchor" href="#4-MIPI-HDMI-Screen-Config" aria-hidden="true"></a></h2><img src="/linux/images/edge/edge_v_ts050.jpg" width="50%" height="50%">

<h3 id="4-1-Configuring-DTS" class="article-heading"><a href="#4-1-Configuring-DTS" class="headerlink" title="4.1 Configuring DTS"></a>4.1 Configuring <strong>DTS</strong><a class="article-anchor" href="#4-1-Configuring-DTS" aria-hidden="true"></a></h3><p>rk3399-khadas-edge-mipi-android.dtsi, for example: MIPI (Main Display) + HDMI (Secondary Display).</p>
<h4 id="4-1-1-Enable-Corresponding-Display-Device-Nodes" class="article-heading"><a href="#4-1-1-Enable-Corresponding-Display-Device-Nodes" class="headerlink" title="4.1.1 Enable Corresponding Display Device Nodes"></a>4.1.1 Enable Corresponding Display Device Nodes<a class="article-anchor" href="#4-1-1-Enable-Corresponding-Display-Device-Nodes" aria-hidden="true"></a></h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&amp;hdmi &#123;</span><br><span class="line">	status = <span class="string">&quot;okay&quot;</span>;</span><br><span class="line">	rockchip,phy-table =</span><br><span class="line">		&lt;74250000 0x8009 0x0004 0x0272&gt;,</span><br><span class="line">		&lt;165000000 0x802b 0x0004 0x0209&gt;,</span><br><span class="line">		&lt;297000000 0x8029 0x0005 0x028d&gt;,</span><br><span class="line">		&lt;594000000 0x8039 0x0000 0x0090&gt;,</span><br><span class="line">		&lt;000000000 0x0000 0x0000 0x0000&gt;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&amp;cdn_dp &#123;</span><br><span class="line">	status = <span class="string">&quot;disabled&quot;</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&amp;dsi &#123;</span><br><span class="line">    status = <span class="string">&quot;okay&quot;</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h4 id="4-1-2-Binding-VOP" class="article-heading"><a href="#4-1-2-Binding-VOP" class="headerlink" title="4.1.2 Binding VOP"></a>4.1.2 Binding VOP<a class="article-anchor" href="#4-1-2-Binding-VOP" aria-hidden="true"></a></h4><p>RK3399 platform has two VOP: vopb (Supports 4K) and vopl (Support 2K only). When the display device node opens, the ports corresponding to vopb and vopl will be opened, and the unused VOP will need to be turned off.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&amp;dp_in_vopl &#123;</span><br><span class="line">	status = <span class="string">&quot;disabled&quot;</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&amp;dp_in_vopb &#123;</span><br><span class="line">	status = <span class="string">&quot;disabled&quot;</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&amp;hdmi_in_vopl &#123;</span><br><span class="line">	status = <span class="string">&quot;okay&quot;</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&amp;hdmi_in_vopb &#123;</span><br><span class="line">	status = <span class="string">&quot;disabled&quot;</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&amp;dsi_in_vopl &#123;</span><br><span class="line">	status = <span class="string">&quot;disabled&quot;</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&amp;dsi_in_vopb &#123;</span><br><span class="line">	status = <span class="string">&quot;okay&quot;</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h4 id="4-1-3-Boot-Logo" class="article-heading"><a href="#4-1-3-Boot-Logo" class="headerlink" title="4.1.3 Boot Logo"></a>4.1.3 Boot Logo<a class="article-anchor" href="#4-1-3-Boot-Logo" aria-hidden="true"></a></h4><p>If the uboot logo is not turned on, the kernel booting stage cannot display the boot logo, and it can only be seen after Android boots. In dts, it is possible to turn on uboot logo support by setting the corresponding routes, such as enabling the uboot logo to be displayed via HDMI:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&amp;route_hdmi &#123;</span><br><span class="line">	status = <span class="string">&quot;okay&quot;</span>;</span><br><span class="line">	connect = &lt;&amp;vopl_out_hdmi&gt;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&amp;route_dsi &#123;</span><br><span class="line">	status = <span class="string">&quot;okay&quot;</span>;</span><br><span class="line">	connect = &lt;&amp;vopb_out_dsi&gt;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h4 id="4-1-4-Binding-PLL" class="article-heading"><a href="#4-1-4-Binding-PLL" class="headerlink" title="4.1.4 Binding PLL"></a>4.1.4 Binding PLL<a class="article-anchor" href="#4-1-4-Binding-PLL" aria-hidden="true"></a></h4><p>The VOP clock bound by the HDMI of rk3399 needs to be mounted on the vpll. If the dual display requires another VOP clock on the cpll, the frequency of any DCLK can be distinguished.</p>
<p>For example, when HDMI is bound to vopb:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&amp;vopb &#123;</span><br><span class="line">	assigned-clocks = &lt;&amp;cru DCLK_VOP0_DIV&gt;;</span><br><span class="line">	assigned-clock-parents = &lt;&amp;cru PLL_VPLL&gt;;</span><br><span class="line">&#125;;</span><br><span class="line">&amp;vopl &#123;</span><br><span class="line">	assigned-clocks = &lt;&amp;cru DCLK_VOP1_DIV&gt;;</span><br><span class="line">	assigned-clock-parents = &lt;&amp;cru PLL_CPLL&gt;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>Configure when HDMI is bound to vopl：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&amp;vopb &#123;</span><br><span class="line">	assigned-clocks = &lt;&amp;cru DCLK_VOP0_DIV&gt;;</span><br><span class="line">	assigned-clock-parents = &lt;&amp;cru PLL_CPLL&gt;;</span><br><span class="line">&#125;;</span><br><span class="line">&amp;vopl &#123;</span><br><span class="line">	assigned-clocks = &lt;&amp;cru DCLK_VOP1_DIV&gt;;</span><br><span class="line">	assigned-clock-parents = &lt;&amp;cru PLL_VPLL&gt;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h4 id="4-1-5-Turning-On-Audio-Output" class="article-heading"><a href="#4-1-5-Turning-On-Audio-Output" class="headerlink" title="4.1.5 Turning On Audio Output"></a>4.1.5 Turning On Audio Output<a class="article-anchor" href="#4-1-5-Turning-On-Audio-Output" aria-hidden="true"></a></h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&amp;dp_sound &#123;</span><br><span class="line">	status = <span class="string">&quot;disabled&quot;</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&amp;hdmi_sound &#123;</span><br><span class="line">	status = <span class="string">&quot;okay&quot;</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h4 id="4-1-6-Configure-Timing" class="article-heading"><a href="#4-1-6-Configure-Timing" class="headerlink" title="4.1.6 Configure Timing"></a>4.1.6 Configure <strong>Timing</strong><a class="article-anchor" href="#4-1-6-Configure-Timing" aria-hidden="true"></a></h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">&amp;dsi &#123;</span><br><span class="line">    status = <span class="string">&quot;okay&quot;</span>;</span><br><span class="line">    rockchip,lane-rate = &lt;1000&gt;;</span><br><span class="line">    dsi_panel: panel@0 &#123;</span><br><span class="line">        status = <span class="string">&quot;okay&quot;</span>;</span><br><span class="line">        compatible = <span class="string">&quot;simple-panel-dsi&quot;</span>;</span><br><span class="line">        reg = &lt;0&gt;;</span><br><span class="line">        backlight = &lt;&amp;backlight&gt;;</span><br><span class="line">        reset-gpios = &lt;&amp;gpio4 RK_PD4 GPIO_ACTIVE_HIGH&gt;; /* GPIO4_D4 */</span><br><span class="line">        enable-gpios = &lt;&amp;gpio4 RK_PD5 GPIO_ACTIVE_HIGH&gt;; /* GPIO4_D5 */</span><br><span class="line">//		pinctrl-names = <span class="string">&quot;default&quot;</span>;</span><br><span class="line">//      pinctrl-0 = &lt;&amp;lcd_reset_gpio&gt;, &lt;&amp;lcd_enable_gpio&gt;;</span><br><span class="line">        reset-delay-ms = &lt;10&gt;;</span><br><span class="line">        enable-delay-ms = &lt;60&gt;;</span><br><span class="line">        prepare-delay-ms = &lt;60&gt;;</span><br><span class="line">        unprepare-delay-ms = &lt;60&gt;;</span><br><span class="line">        disable-delay-ms = &lt;60&gt;;</span><br><span class="line">        dsi,flags = &lt;(MIPI_DSI_MODE_VIDEO | MIPI_DSI_MODE_VIDEO_BURST |</span><br><span class="line">                  MIPI_DSI_MODE_LPM | MIPI_DSI_MODE_EOT_PACKET)&gt;;</span><br><span class="line"></span><br><span class="line">		dsi,format = &lt;MIPI_DSI_FMT_RGB888&gt;;</span><br><span class="line">        dsi,lanes  = &lt;4&gt;;</span><br><span class="line">        panel-init-sequence = [</span><br><span class="line">			15 00 02  FF 05</span><br><span class="line">             ....</span><br><span class="line">			05 0A 01  29</span><br><span class="line">		];</span><br><span class="line">		panel-exit-sequence = [</span><br><span class="line">			05 05 01 28</span><br><span class="line">			05 78 01 10</span><br><span class="line">		];</span><br><span class="line"></span><br><span class="line">        disp_timings: display-timings &#123;</span><br><span class="line">            native-mode = &lt;&amp;timing0&gt;;</span><br><span class="line">            timing0: timing0 &#123;</span><br><span class="line">                clock-frequency = &lt;120000000&gt;;</span><br><span class="line">                hactive = &lt;1088&gt;; /* default 1080, but afbdc must 16 align */</span><br><span class="line">                hfront-porch = &lt;104&gt;;</span><br><span class="line">                hback-porch = &lt;127&gt;;</span><br><span class="line">                hsync-len = &lt;4&gt;; /////</span><br><span class="line">                vactive = &lt;1920&gt;;</span><br><span class="line">                vfront-porch = &lt;4&gt;;</span><br><span class="line">                vback-porch = &lt;3&gt;;</span><br><span class="line">                vsync-len = &lt;2&gt;; /////</span><br><span class="line">                hsync-active = &lt;0&gt;;</span><br><span class="line">                vsync-active = &lt;0&gt;;</span><br><span class="line">                de-active = &lt;0&gt;;</span><br><span class="line">                pixelclk-active = &lt;0&gt;;</span><br><span class="line">            &#125;;</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<ul>
<li>Timing Attribute Reference Figure<br><img src="/linux/images/edge/timing_attribute_reference_figure.png" alt="image|690x430"><br><img src="/linux/images/edge/timing_attribute_reference_figure_2.png" alt="image|321x500"> </li>
</ul>
<h4 id="4-1-7-Command-Format-Description" class="article-heading"><a href="#4-1-7-Command-Format-Description" class="headerlink" title="4.1.7 Command Format Description"></a>4.1.7 Command Format Description<a class="article-anchor" href="#4-1-7-Command-Format-Description" aria-hidden="true"></a></h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">panel-exit-sequence = [</span><br><span class="line">	05 05 01 28</span><br><span class="line">	05 78 01 10</span><br><span class="line">];</span><br></pre></td></tr></table></figure>
<p>The first three bytes of a command represent the command type, delay, and command payload length, respectively. , A valid payload for the command, starts with the fourth byte. The number of bytes comprising the payload needs to be equal to the command payload length (third byte).</p>
<p>The first byte represents two types of commands: DCS command and Generic command. The DCS command is a command specified in the MIPI standard protocol, specifically referred to as “MIPI Alliance Specification for Display Command Set.pdf”. Generic commands are generally applied to manufacturer-defined commands. Specific use of which type requires reference to screen specifications or consulting your screen factory FAE. If not specified, it is recommended to configure it according to the DCS command type.</p>
<p>There are three types of DCS commands: 0x05/0x15/0x39. Generic commands are classified into: 0x03/0x13/0x23/0x29.</p>
<h4 id="4-1-8-Backlight" class="article-heading"><a href="#4-1-8-Backlight" class="headerlink" title="4.1.8 Backlight"></a>4.1.8 Backlight<a class="article-anchor" href="#4-1-8-Backlight" aria-hidden="true"></a></h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&amp;backlight &#123;</span><br><span class="line">	pwms = &lt;&amp;pwm1 0 25000 0&gt;;</span><br><span class="line">	status = <span class="string">&quot;okay&quot;</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&amp;pwm1 &#123;</span><br><span class="line">	status = <span class="string">&quot;okay&quot;</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&amp;dsi &#123;</span><br><span class="line">    status = <span class="string">&quot;okay&quot;</span>;</span><br><span class="line">    rockchip,lane-rate = &lt;1000&gt;;</span><br><span class="line">    dsi_panel: panel@0 &#123;</span><br><span class="line">        status = <span class="string">&quot;okay&quot;</span>;</span><br><span class="line">        compatible = <span class="string">&quot;simple-panel-dsi&quot;</span>;</span><br><span class="line">        reg = &lt;0&gt;;</span><br><span class="line">        backlight = &lt;&amp;backlight&gt;;</span><br><span class="line">        ...</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p><strong>PWM Attributes:</strong> The PWM output used by the MIPI screen is pwm1, and the cycle frequency is 40 KHz (25 000 nano-seconds).</p>
<h3 id="4-2-Main-and-Secondary-Display-Config" class="article-heading"><a href="#4-2-Main-and-Secondary-Display-Config" class="headerlink" title="4.2 Main and Secondary Display Config"></a>4.2 Main and Secondary Display Config<a class="article-anchor" href="#4-2-Main-and-Secondary-Display-Config" aria-hidden="true"></a></h3><h4 id="android-9-0-Config-1" class="article-heading"><a href="#android-9-0-Config-1" class="headerlink" title="android 9.0 Config"></a>android 9.0 Config<a class="article-anchor" href="#android-9-0-Config-1" aria-hidden="true"></a></h4><p>device/rockchip/rk3399/rk3399.mk</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">PRODUCT_PROPERTY_OVERRIDES += \</span><br><span class="line">    vendor.hwc.device.primary=DSI \</span><br><span class="line">    <span class="comment">#vendor.hwc.device.extend=DP</span></span><br><span class="line">	vendor.hwc.device.extend=HDMI-A</span><br><span class="line">    <span class="comment">#vendor.hwc.device.extend=eDP</span></span><br></pre></td></tr></table></figure>
<h4 id="android-7-1-Config-1" class="article-heading"><a href="#android-7-1-Config-1" class="headerlink" title="android 7.1 Config"></a>android 7.1 Config<a class="article-anchor" href="#android-7-1-Config-1" aria-hidden="true"></a></h4><p>device/rockchip/rk3399/rk3399_all.mk</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">PRODUCT_PROPERTY_OVERRIDES += \</span><br><span class="line">    sys.hwc.device.primary=DSI \</span><br><span class="line">    <span class="comment">#sys.hwc.device.extend=DP</span></span><br><span class="line">	sys.hwc.device.extend=HDMI-A</span><br><span class="line">    <span class="comment">#sys.hwc.device.extend=eDP</span></span><br></pre></td></tr></table></figure>

<h2 id="5-（HDMI-or-DP-MIPI）Screen-Config" class="article-heading"><a href="#5-（HDMI-or-DP-MIPI）Screen-Config" class="headerlink" title="5.（HDMI or DP + MIPI）Screen Config"></a>5.（HDMI or DP + MIPI）Screen Config<a class="article-anchor" href="#5-（HDMI-or-DP-MIPI）Screen-Config" aria-hidden="true"></a></h2><p>HDMI or DP + MIPI: This means compatible with HDMI(Main Display) + MIPI (Secondary Display) or DP(Main Display) + MIPI (Secondary Display), but does not support HDMI + DP at the same time.</p>
<h3 id="5-1-Configuring-DTS" class="article-heading"><a href="#5-1-Configuring-DTS" class="headerlink" title="5.1 Configuring DTS"></a>5.1 Configuring <strong>DTS</strong><a class="article-anchor" href="#5-1-Configuring-DTS" aria-hidden="true"></a></h3><h4 id="android-9-0-Config-2" class="article-heading"><a href="#android-9-0-Config-2" class="headerlink" title="android 9.0 Config"></a>android 9.0 Config<a class="article-anchor" href="#android-9-0-Config-2" aria-hidden="true"></a></h4><p>See DTS below for more details on the previous two chapters:<br>rk3399-khadas-edge-android.dts</p>
<h3 id="5-2-Main-and-Secondary-Display-Config" class="article-heading"><a href="#5-2-Main-and-Secondary-Display-Config" class="headerlink" title="5.2 Main and Secondary Display Config"></a>5.2 Main and Secondary Display Config<a class="article-anchor" href="#5-2-Main-and-Secondary-Display-Config" aria-hidden="true"></a></h3><h4 id="android-9-0-Config-3" class="article-heading"><a href="#android-9-0-Config-3" class="headerlink" title="android 9.0 Config"></a>android 9.0 Config<a class="article-anchor" href="#android-9-0-Config-3" aria-hidden="true"></a></h4><p>device/rockchip/rk3399/rk3399.mk</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">PRODUCT_PROPERTY_OVERRIDES += \</span><br><span class="line">    vendor.hwc.device.primary=HDMI-A,DP\</span><br><span class="line">	vendor.hwc.device.extend=DSI</span><br></pre></td></tr></table></figure>

              </div>
              <footer class="article-footer">
                <time class="article-footer-updated" datetime="2021-07-28T10:17:22.975Z" itemprop="dateModified">Last updated: 2021-07-28</time>
                <a href="index.html" class="article-footer-next" title="Quick Setup"><span>Next</span><i class="fa fa-chevron-right"></i></a>
              </footer>
              
            </div>
          </div>
          <aside id="article-toc" role="navigation">
            <div id="article-toc-inner">
              <div class="article-toc-border">
                <strong class="sidebar-title">Contents</strong>
                <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-Quick-amp-Dirty-Method"><span class="toc-text" title="1. Quick &amp; Dirty Method">1. Quick &amp; Dirty Method</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-Brief-Introduction"><span class="toc-text" title="2. Brief Introduction">2. Brief Introduction</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-HDMI-DP-Screen-Config"><span class="toc-text" title="3. (HDMI + DP) Screen Config">3. (HDMI + DP) Screen Config</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-Configure-DTS"><span class="toc-text" title="3.1 Configure DTS">3.1 Configure DTS</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-1-Enable-Corresponding-Display-Device-Nodes"><span class="toc-text" title="3.1.1 Enable Corresponding Display Device Nodes">3.1.1 Enable Corresponding Display Device Nodes</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-2-Binding-VOP"><span class="toc-text" title="3.1.2 Binding VOP">3.1.2 Binding VOP</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-3-Boot-Logo"><span class="toc-text" title="3.1.3 Boot Logo">3.1.3 Boot Logo</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-4-Binding-PLL"><span class="toc-text" title="3.1.4 Binding PLL">3.1.4 Binding PLL</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-5-Turning-On-Audio-Output"><span class="toc-text" title="3.1.5 Turning On Audio Output">3.1.5 Turning On Audio Output</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-Main-and-Secondary-Display-Config"><span class="toc-text" title="3.2 Main and Secondary Display Config">3.2 Main and Secondary Display Config</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#android-9-0-Config"><span class="toc-text" title="android 9.0 Config">android 9.0 Config</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#android-7-1-Config"><span class="toc-text" title="android 7.1 Config">android 7.1 Config</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-MIPI-HDMI-Screen-Config"><span class="toc-text" title="4. (MIPI + HDMI) Screen Config">4. (MIPI + HDMI) Screen Config</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-Configuring-DTS"><span class="toc-text" title="4.1 Configuring DTS">4.1 Configuring DTS</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#4-1-1-Enable-Corresponding-Display-Device-Nodes"><span class="toc-text" title="4.1.1 Enable Corresponding Display Device Nodes">4.1.1 Enable Corresponding Display Device Nodes</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-1-2-Binding-VOP"><span class="toc-text" title="4.1.2 Binding VOP">4.1.2 Binding VOP</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-1-3-Boot-Logo"><span class="toc-text" title="4.1.3 Boot Logo">4.1.3 Boot Logo</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-1-4-Binding-PLL"><span class="toc-text" title="4.1.4 Binding PLL">4.1.4 Binding PLL</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-1-5-Turning-On-Audio-Output"><span class="toc-text" title="4.1.5 Turning On Audio Output">4.1.5 Turning On Audio Output</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-1-6-Configure-Timing"><span class="toc-text" title="4.1.6 Configure Timing">4.1.6 Configure Timing</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-1-7-Command-Format-Description"><span class="toc-text" title="4.1.7 Command Format Description">4.1.7 Command Format Description</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-1-8-Backlight"><span class="toc-text" title="4.1.8 Backlight">4.1.8 Backlight</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-Main-and-Secondary-Display-Config"><span class="toc-text" title="4.2 Main and Secondary Display Config">4.2 Main and Secondary Display Config</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#android-9-0-Config-1"><span class="toc-text" title="android 9.0 Config">android 9.0 Config</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#android-7-1-Config-1"><span class="toc-text" title="android 7.1 Config">android 7.1 Config</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-%EF%BC%88HDMI-or-DP-MIPI%EF%BC%89Screen-Config"><span class="toc-text" title="5.（HDMI or DP + MIPI）Screen Config">5.（HDMI or DP + MIPI）Screen Config</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-Configuring-DTS"><span class="toc-text" title="5.1 Configuring DTS">5.1 Configuring DTS</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#android-9-0-Config-2"><span class="toc-text" title="android 9.0 Config">android 9.0 Config</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-Main-and-Secondary-Display-Config"><span class="toc-text" title="5.2 Main and Secondary Display Config">5.2 Main and Secondary Display Config</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#android-9-0-Config-3"><span class="toc-text" title="android 9.0 Config">android 9.0 Config</span></a></li></ol></li></ol></li></ol>
                <a href="#" id="article-toc-top">Back to Top</a>
              </div>
            </div>
          </aside>
        </div>
      </article>
      <aside id="sidebar" role="navigation">
  <div class="inner">
    <strong class="sidebar-title"><details><summary>Quick Start</summary><a href="index.html" class="sidebar-link first">Quick Setup</a><a href="OsIntroduce.html" class="sidebar-link">OS Introduce</a><a href="InstallOsIntoEmmc.html" class="sidebar-link">Install OS into eMMC</a><a href="InstallOsIntoSdusb.html" class="sidebar-link">Install OS into SD/USB Media</a><a href="BootIntoUpgradeMode.html" class="sidebar-link">Boot into Upgrade Mode</a><a href="Hardware.html" class="sidebar-link">Edge Hardware</a></details></strong><strong class="sidebar-title"><details open><summary>Configuration</summary><strong class="sidebar-link"><details><summary>Basic</summary><a href="UpgradeSystem.html" class="sidebar-link secondary-first">Upgrade System</a><a href="SystemConfigFile.html" class="sidebar-link">Config File</a><a href="AutoLogin.html" class="sidebar-link">Auto Login</a><a href="WriteSDImageToEmmc.html" class="sidebar-link">Write SD Image to eMMC</a><a href="DeviceTreeOverlay.html" class="sidebar-link">Device Tree Overlay</a></details></strong><strong class="sidebar-link"><details><summary>Network</summary><a href="Wifi.html" class="sidebar-link secondary-first">Wi-Fi</a><a href="Bluetooth.html" class="sidebar-link">Bluetooth</a><a href="Wol.html" class="sidebar-link">Wake On Lan</a></details></strong><strong class="sidebar-link"><details><summary>Display</summary><a href="UbuntuLogo.html" class="sidebar-link secondary-first">Ubuntu Logo</a><a href="SetupFramebufferConsoleFont.html" class="sidebar-link">Framebuffer Console Font</a></details></strong><strong class="sidebar-link"><details open><summary>Accessories</summary><a href="Fan.html" class="sidebar-link secondary-first">Cooling Fan</a><a href="TS050.html" class="sidebar-link current">TS050 Touch Screen</a><a href="LteModule.html" class="sidebar-link">LTE 4G Module</a></details></strong></details></strong><strong class="sidebar-title"><details><summary>Applications</summary><strong class="sidebar-link"><details><summary>GPIO</summary><a href="Gpio.html" class="sidebar-link secondary-first">GPIO</a><a href="GpioIRQ.html" class="sidebar-link">IRQ</a><a href="LED.html" class="sidebar-link">LED</a><a href="1wire.html" class="sidebar-link">1-Wire</a><a href="WiringPi.html" class="sidebar-link">WiringPi</a><a href="WiringPi-Python.html" class="sidebar-link">WiringPi-Python</a></details></strong><a href="PlayVideo.html" class="sidebar-link first">Play Video</a><a href="Docker.html" class="sidebar-link">Docker</a><a href="32bitLibrary.html" class="sidebar-link">32-bit Library</a></details></strong><strong class="sidebar-title"><details><summary>Development</summary><strong class="sidebar-link"><details><summary>U-Boot</summary><a href="BuildUboot.html" class="sidebar-link secondary-first">Build U-Boot</a><a href="UpgradeUboot.html" class="sidebar-link">Upgrade U-Boot</a><a href="BootFromSpiFlash.html" class="sidebar-link">Boot From SPI-Flash</a><a href="KbiGuidance.html" class="sidebar-link">KBI Guide</a></details></strong><strong class="sidebar-link"><details><summary>Linux</summary><a href="BuildLinuxKernel.html" class="sidebar-link secondary-first">Build Linux Kernel</a><a href="UpgradeLinuxKernel.html" class="sidebar-link">Upgrade Linux Kernel</a></details></strong><a href="FenixScript.html" class="sidebar-link first">Build Ubuntu/Debian Image</a><a href="SetupSerialTool.html" class="sidebar-link">Setup Serial Debug Tool</a></details></strong>
  </div>
</aside>
    </div>
  </div>
</div>

    <footer id="footer" class="wrapperforfooter">
  <div class="inner">
    <div id="footer-copyright">
      &copy; 2021 <a href="https://www.khadas.com/" rel="external nofollow noreferrer" target="_blank">Khadas</a><br>
    </div>
    <div id="footer-links">
      <a href="https://facebook.com/khadas.official" rel="external nofollow noreferrer" class="footer-link" target="_blank"><i class="fa fa-facebook"></i></a>
      <a href="https://twitter.com/khadas_official" rel="external nofollow noreferrer" class="footer-link" target="_blank"><i class="fa fa-twitter"></i></a>
      <a href="https://youtube.com/c/khadas" rel="external nofollow noreferrer" class="footer-link" target="_blank"><i class="fa fa-youtube-play"></i></a>
      <a href="https://github.com/khadas" rel="external nofollow noreferrer" class="footer-link" target="_blank"><i class="fa fa-github-alt"></i></a>
    </div>
  </div>
</footer>

  </div>
  <div id="mobile-nav-dimmer"></div>
  <nav id="mobile-nav">
  <div id="mobile-nav-inner">
    <ul id="mobile-nav-list">
      <strong class="mobile-nav-link  header"><details ><summary>VIM</summary><a href="/linux/vim1/" class="mobile-nav-link secondary ">VIM1</a><a href="/linux/vim2/" class="mobile-nav-link secondary ">VIM2</a><a href="/linux/vim3/" class="mobile-nav-link secondary ">VIM3</a></details></strong><a href="/linux/edge/" class="mobile-nav-link current header">Edge</a><a href="/linux/tone1/" class="mobile-nav-link  header">Tone1</a><a href="/linux/hardware/hardwareEdge" class="mobile-nav-link  header">Hardware</a><a href="/linux/firmware/EdgeUbuntuFirmware" class="mobile-nav-link  header">Firmware</a>
      <li class="mobile-nav-item">
        <a href="https://github.com/khadas" class="mobile-nav-link header" rel="external" target="_blank">GitHub</a>
      </li>
    </ul>
    
      <strong class="mobile-nav-title"><details><summary>Quick Start</summary><a href="index.html" class="mobile-nav-link first">Quick Setup</a><a href="OsIntroduce.html" class="mobile-nav-link">OS Introduce</a><a href="InstallOsIntoEmmc.html" class="mobile-nav-link">Install OS into eMMC</a><a href="InstallOsIntoSdusb.html" class="mobile-nav-link">Install OS into SD/USB Media</a><a href="BootIntoUpgradeMode.html" class="mobile-nav-link">Boot into Upgrade Mode</a><a href="Hardware.html" class="mobile-nav-link">Edge Hardware</a></details></strong><strong class="mobile-nav-title"><details open><summary>Configuration</summary><strong class="mobile-nav-link"><details><summary>Basic</summary><a href="UpgradeSystem.html" class="mobile-nav-link secondary-first">Upgrade System</a><a href="SystemConfigFile.html" class="mobile-nav-link">Config File</a><a href="AutoLogin.html" class="mobile-nav-link">Auto Login</a><a href="WriteSDImageToEmmc.html" class="mobile-nav-link">Write SD Image to eMMC</a><a href="DeviceTreeOverlay.html" class="mobile-nav-link">Device Tree Overlay</a></details></strong><strong class="mobile-nav-link"><details><summary>Network</summary><a href="Wifi.html" class="mobile-nav-link secondary-first">Wi-Fi</a><a href="Bluetooth.html" class="mobile-nav-link">Bluetooth</a><a href="Wol.html" class="mobile-nav-link">Wake On Lan</a></details></strong><strong class="mobile-nav-link"><details><summary>Display</summary><a href="UbuntuLogo.html" class="mobile-nav-link secondary-first">Ubuntu Logo</a><a href="SetupFramebufferConsoleFont.html" class="mobile-nav-link">Framebuffer Console Font</a></details></strong><strong class="mobile-nav-link"><details open><summary>Accessories</summary><a href="Fan.html" class="mobile-nav-link secondary-first">Cooling Fan</a><a href="TS050.html" class="mobile-nav-link current">TS050 Touch Screen</a><a href="LteModule.html" class="mobile-nav-link">LTE 4G Module</a></details></strong></details></strong><strong class="mobile-nav-title"><details><summary>Applications</summary><strong class="mobile-nav-link"><details><summary>GPIO</summary><a href="Gpio.html" class="mobile-nav-link secondary-first">GPIO</a><a href="GpioIRQ.html" class="mobile-nav-link">IRQ</a><a href="LED.html" class="mobile-nav-link">LED</a><a href="1wire.html" class="mobile-nav-link">1-Wire</a><a href="WiringPi.html" class="mobile-nav-link">WiringPi</a><a href="WiringPi-Python.html" class="mobile-nav-link">WiringPi-Python</a></details></strong><a href="PlayVideo.html" class="mobile-nav-link first">Play Video</a><a href="Docker.html" class="mobile-nav-link">Docker</a><a href="32bitLibrary.html" class="mobile-nav-link">32-bit Library</a></details></strong><strong class="mobile-nav-title"><details><summary>Development</summary><strong class="mobile-nav-link"><details><summary>U-Boot</summary><a href="BuildUboot.html" class="mobile-nav-link secondary-first">Build U-Boot</a><a href="UpgradeUboot.html" class="mobile-nav-link">Upgrade U-Boot</a><a href="BootFromSpiFlash.html" class="mobile-nav-link">Boot From SPI-Flash</a><a href="KbiGuidance.html" class="mobile-nav-link">KBI Guide</a></details></strong><strong class="mobile-nav-link"><details><summary>Linux</summary><a href="BuildLinuxKernel.html" class="mobile-nav-link secondary-first">Build Linux Kernel</a><a href="UpgradeLinuxKernel.html" class="mobile-nav-link">Upgrade Linux Kernel</a></details></strong><a href="FenixScript.html" class="mobile-nav-link first">Build Ubuntu/Debian Image</a><a href="SetupSerialTool.html" class="mobile-nav-link">Setup Serial Debug Tool</a></details></strong>
    
  </div>
  <div id="mobile-lang-select-wrap">
    <span id="mobile-lang-select-label"><i class="fa fa-globe"></i><span>English</span></span>
    <select id="mobile-lang-select" data-canonical="edge/TS050.html">
      
        <option value="en" selected>English</option>
      
        <option value="zh-cn">简体中文</option>
      
    </select>
  </div>
</nav>
  <!-- Scripts -->
<!-- build:js build/js/main.js -->

<script src="/linux/js/lang_select.js"></script>


<script src="/linux/js/toc.js"></script>


<script src="/linux/js/mobile_nav.js"></script>

<!-- endbuild -->

<!-- Algolia -->


</body>
</html>
